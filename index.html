<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Happy Birthday ‚ù§Ô∏è</title>

  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:system-ui,-apple-system,"Poppins",Arial,sans-serif;}
    body{min-height:100vh;overflow-x:hidden;background:#0b0b0b;color:#fff;}

    .page{
      min-height:100vh;
      display:none;
      align-items:center;
      justify-content:center;
      padding:22px;
      position:relative;
    }
    .page.active{display:flex;animation:fadeIn .6s ease;}
    @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}

    /* ===== CURTAIN PAGE ===== */
    .curtain{
      background: linear-gradient(180deg, #7a0000, #b10000, #4a0000);
      overflow:hidden;
    }

    .curtainLeft,.curtainRight{
      position:absolute; top:0; height:100%; width:55%;
      background: repeating-linear-gradient(90deg,
        rgba(0,0,0,0.25) 0px,
        rgba(0,0,0,0.25) 18px,
        rgba(255,255,255,0.12) 30px
      );
      opacity:0.95;
      z-index:1;
      transition: transform 1.1s cubic-bezier(.2,.9,.2,1);
    }
    .curtainLeft{
      left:0;
      box-shadow: inset -18px 0 45px rgba(0,0,0,0.6);
      transform: translateX(0);
    }
    .curtainRight{
      right:0;
      box-shadow: inset 18px 0 45px rgba(0,0,0,0.6);
      transform: translateX(0);
    }
    .curtain.opening .curtainLeft{transform: translateX(-105%);}
    .curtain.opening .curtainRight{transform: translateX(105%);}

    .curtainCenter{
      width:100%;
      max-width:720px;
      text-align:center;
      position:relative;
      z-index:2;
      padding:26px;
      border-radius:22px;
      background: rgba(0,0,0,0.35);
      border:1px solid rgba(255,255,255,0.18);
      backdrop-filter: blur(10px);
      box-shadow: 0 18px 50px rgba(0,0,0,0.45);
      animation: pop 0.8s ease;
    }
    @keyframes pop{from{transform:translateY(18px);opacity:0}to{transform:translateY(0);opacity:1}}

    .title{font-size:2.2rem;font-weight:900;margin-bottom:10px;letter-spacing:.5px;}
    .title span{color:#ffd6d6;text-shadow:0 6px 18px rgba(0,0,0,0.4);}
    .subtitle{font-size:1rem;opacity:.9;margin-bottom:18px;}

    .btn{
      border:none;
      padding:12px 18px;
      border-radius:16px;
      cursor:pointer;
      font-weight:800;
      background:#fff;
      color:#111;
      transition:.25s ease;
    }
    .btn:hover{transform:translateY(-2px) scale(1.02);box-shadow:0 12px 22px rgba(0,0,0,0.25);}
    .btnDark{background:#111;color:#fff;}

    /* ===== LETTER PAGE ===== */
    .letterPage{background:linear-gradient(180deg,#141414,#0c0c0c);}
    .letterWrap{width:100%;max-width:820px;position:relative;z-index:2;}

    .letterCard{
      background:#f8f1e5;color:#1a1a1a;border-radius:18px;padding:22px;
      box-shadow:0 20px 60px rgba(0,0,0,0.4);
      border:2px solid rgba(0,0,0,0.10);
      position:relative;overflow:hidden;
    }
    .letterCard::before{
      content:"";position:absolute;inset:0;
      background:
        radial-gradient(circle at top left, rgba(0,0,0,0.06), transparent 40%),
        repeating-linear-gradient(0deg, rgba(0,0,0,0.03) 0px, rgba(0,0,0,0.03) 2px, transparent 18px);
      pointer-events:none;opacity:.8;
    }
    .letterHead{
      display:flex;justify-content:space-between;align-items:center;
      gap:12px;margin-bottom:12px;position:relative;z-index:2;flex-wrap:wrap;
    }
    .letterHead h2{font-size:1.4rem;font-weight:900;}
    .stamp{
      background:#b10000;color:#fff;padding:8px 12px;border-radius:12px;
      font-size:.85rem;font-weight:800;box-shadow:0 10px 20px rgba(0,0,0,0.25);
    }

    /* Typewriter look */
    .letterText{
      position:relative;
      z-index:2;
      font-size:1.05rem;
      line-height:1.75;
      white-space:pre-line;
      margin-top:8px;
      min-height: 240px;
    }
    .caret{
      display:inline-block;
      width:10px;
      border-right: 3px solid rgba(0,0,0,0.65);
      animation: blink 0.7s infinite;
      margin-left:2px;
    }
    @keyframes blink{
      50%{border-right-color: transparent;}
    }

    .letterFooter{position:relative;z-index:2;margin-top:16px;font-weight:800;}
    .navBtns{display:flex;justify-content:center;gap:12px;flex-wrap:wrap;margin-top:14px;}

    /* ===== MEMORIES PAGE ===== */
    .memoriesPage{
      background: radial-gradient(circle at top, rgba(255,0,0,0.15), transparent 55%),
                  linear-gradient(180deg, #0b0b0b, #050505);
    }
    .memCard{
      width:100%;max-width:900px;background:rgba(255,255,255,0.06);
      border:1px solid rgba(255,255,255,0.15);
      backdrop-filter:blur(12px);
      border-radius:22px;padding:18px;
      box-shadow:0 18px 55px rgba(0,0,0,0.35);
      position:relative;z-index:2;
    }
    .memTitle{text-align:center;font-size:1.8rem;font-weight:900;margin-bottom:6px;}
    .memSub{text-align:center;opacity:.85;margin-bottom:14px;}

    .gallery{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;}
    .ph{
      height:190px;border-radius:18px;overflow:hidden;
      background:rgba(255,255,255,0.15);
      border:1px solid rgba(255,255,255,0.18);
      cursor:pointer;
      transition:0.25s ease;
      position:relative;
    }
    .ph:hover{transform: translateY(-2px) scale(1.01);}
    .ph img{width:100%;height:100%;object-fit:cover;display:block;}
    .tip{text-align:center;opacity:.8;font-size:.95rem;margin-top:12px;}

    /* ===== END PAGE ===== */
    .endPage{background:linear-gradient(180deg,#1b0000,#050505);}
    .endCard{
      width:100%;max-width:760px;text-align:center;padding:22px;border-radius:22px;
      background:rgba(255,255,255,0.08);
      border:1px solid rgba(255,255,255,0.18);
      box-shadow:0 18px 55px rgba(0,0,0,0.35);
      backdrop-filter:blur(12px);
      position:relative;z-index:2;
    }
    .endCard h2{font-size:1.8rem;font-weight:900;margin-bottom:10px;}
    .endCard p{font-size:1.05rem;line-height:1.7;opacity:.95;}

    /* Floating hearts */
    .heart{
      position:fixed;bottom:-30px;font-size:18px;
      animation: floatUp linear forwards;
      opacity:.85;z-index:1;pointer-events:none;
    }
    @keyframes floatUp{
      from{transform:translateY(0) translateX(0);opacity:.9;}
      to{transform:translateY(-110vh) translateX(35px);opacity:0;}
    }

    /* ===== Lightbox (click photo full screen) ===== */
    .lightbox{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,0.85);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:50;
      padding:18px;
    }
    .lightbox.active{display:flex; animation: fadeIn 0.25s ease;}
    .lightboxInner{
      width:100%;
      max-width: 820px;
      border-radius:22px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,0.22);
      box-shadow: 0 25px 70px rgba(0,0,0,0.55);
      background:#000;
      position:relative;
    }
    .lightboxInner img{
      width:100%;
      height:auto;
      max-height: 80vh;
      object-fit:contain;
      display:block;
      background:#000;
    }
    .closeX{
      position:absolute;
      top:12px;
      right:12px;
      background: rgba(255,255,255,0.18);
      border:1px solid rgba(255,255,255,0.25);
      color:#fff;
      padding:8px 12px;
      border-radius:14px;
      font-weight:900;
      cursor:pointer;
      backdrop-filter: blur(8px);
    }

    /* ===== Confetti ===== */
    .confetti{
      position:fixed;
      top:-20px;
      width:10px;
      height:14px;
      z-index:40;
      opacity:0.9;
      pointer-events:none;
      animation: confettiFall linear forwards;
    }
    @keyframes confettiFall{
      from{transform: translateY(0) rotate(0deg);}
      to{transform: translateY(120vh) rotate(540deg);}
    }
  </style>
</head>

<body>

  <!-- LIGHTBOX -->
  <div class="lightbox" id="lightbox" onclick="closeLightbox()">
    <div class="lightboxInner" onclick="event.stopPropagation()">
      <button class="closeX" onclick="closeLightbox()">‚úï Close</button>
      <img id="lightboxImg" src="" alt="Full Photo">
    </div>
  </div>

  <!-- PAGE 1 -->
  <section class="page curtain active" id="p1">
    <div class="curtainLeft"></div>
    <div class="curtainRight"></div>

    <div class="curtainCenter">
      <div class="title">Happy Birthday to my <span>Favorite Person</span> üéÇ‚ù§Ô∏è</div>
      <div class="subtitle">A small little surprise made only for you ‚ú®</div>
      <button class="btn" onclick="openCurtainAndGo()">Click to go further ‚ûú</button>
    </div>
  </section>

  <!-- PAGE 2 -->
  <section class="page letterPage" id="p2">
    <div class="letterWrap">
      <div class="letterCard">
        <div class="letterHead">
          <h2>üíå A Letter For You</h2>
          <div class="stamp" id="dateText">26/12/2026</div>
        </div>

        <!-- Typewriter renders here -->
        <div class="letterText" id="typedLetter"></div>

        <div class="letterFooter">‚Äî <span id="fromName">Nafy</span> üíñ</div>
      </div>

      <div class="navBtns">
        <button class="btn btnDark" onclick="goTo('p1')">‚¨Ö Back</button>
        <button class="btn" onclick="goTo('p3')">1 Yr Memories ‚ûú</button>
      </div>
    </div>
  </section>

  <!-- PAGE 3 -->
  <section class="page memoriesPage" id="p3">
    <div class="memCard">
      <div class="memTitle">‚ú® 1 Year Memories ‚ú®</div>
      <div class="memSub">Tap any photo to view full screen ‚ù§Ô∏è</div>

      <div class="gallery">
        <div class="ph" onclick="openLightbox('photo1.jpg')"><img src="photo1.jpg" alt="memory 1"></div>
        <div class="ph" onclick="openLightbox('photo2.jpg')"><img src="photo2.jpg" alt="memory 2"></div>
        <div class="ph" onclick="openLightbox('photo3.jpg')"><img src="photo3.jpg" alt="memory 3"></div>
        <div class="ph" onclick="openLightbox('photo4.jpg')"><img src="photo4.jpg" alt="memory 4"></div>
      </div>

      <div class="tip">Upload photos with exact names: photo1.jpg, photo2.jpg, photo3.jpg, photo4.jpg</div>

      <div class="navBtns" style="margin-top:16px;">
        <button class="btn btnDark" onclick="goTo('p2')">‚¨Ö Back</button>
        <button class="btn" onclick="goTo('p4')">Final Message ‚ûú</button>
      </div>
    </div>
  </section>

  <!-- PAGE 4 -->
  <section class="page endPage" id="p4">
    <div class="endCard">
      <h2>üíñ One Last Thing‚Ä¶</h2>
      <p id="endMsg">
        You will always be special to me ‚ù§Ô∏è<br><br>
        May your days be full of smiles, peace and love ‚ú®<br><br>
        Happy Birthday again üéÇüíñ
      </p>

      <div class="navBtns" style="margin-top:16px;">
        <button class="btn btnDark" onclick="goTo('p3')">‚¨Ö Back</button>
        <button class="btn" onclick="goTo('p1')">Replay üîÅ</button>
      </div>
    </div>
  </section>

  <script>
    // Names
    const personName = "Afy";
    const fromName = "Nafy";

    // Date
    const today = new Date();
    const dd = String(today.getDate()).padStart(2, '0');
    const mm = String(today.getMonth() + 1).padStart(2, '0');
    const yyyy = today.getFullYear();
    document.getElementById("dateText").innerText = dd + "/" + mm + "/" + yyyy;
    document.getElementById("fromName").innerText = fromName;

    // ‚úÖ Typewriter Letter (2)
    const fullLetter = `Dear ${personName},

Happy Birthday ‚ù§Ô∏è
On this special day, I just want to remind you how important you are to me.

You bring peace, happiness, and a kind of warmth I can‚Äôt explain.
Thank you for being you‚Ä¶ for your smile, your heart, and your presence.

No matter what happens, I‚Äôll always pray for you.
May Allah bless you with the happiest life, protect you from every sadness,
and give you everything you deserve.

Always yours,
${fromName}`;

    let typedDone = false;

    function startTypingLetter(){
      if(typedDone) return;
      typedDone = true;

      const box = document.getElementById("typedLetter");
      box.innerHTML = "";
      let i = 0;

      // caret
      const caret = document.createElement("span");
      caret.className = "caret";
      box.appendChild(caret);

      function type(){
        caret.remove();
        if(i < fullLetter.length){
          box.textContent += fullLetter.charAt(i);
          i++;
          box.appendChild(caret);
          setTimeout(type, 16);
        }else{
          caret.remove();
        }
      }
      setTimeout(type, 250);
    }

    function goTo(pageId){
      document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
      document.getElementById(pageId).classList.add("active");
      burstHearts();
      window.scrollTo(0,0);

      // start typewriter when page 2 opens
      if(pageId === "p2"){
        startTypingLetter();
      }

      // confetti when final page opens (8)
      if(pageId === "p4"){
        startConfetti();
      }
    }

    // Curtain opening animation then go
    function openCurtainAndGo(){
      const p1 = document.getElementById("p1");
      p1.classList.add("opening");
      burstHearts();
      setTimeout(()=>goTo("p2"), 1100);
    }

    // Floating hearts
    setInterval(() => {
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.innerText = ["‚ù§Ô∏è","üíñ","üíò","‚ú®","üå∏"][Math.floor(Math.random()*5)];
      heart.style.left = Math.random() * 100 + "vw";
      heart.style.animationDuration = (3 + Math.random() * 3) + "s";
      heart.style.fontSize = (14 + Math.random()*20) + "px";
      document.body.appendChild(heart);
      setTimeout(()=>heart.remove(), 6000);
    }, 420);

    function burstHearts(){
      for(let i=0;i<14;i++){
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.innerText = ["‚ù§Ô∏è","üíñ","‚ú®"][Math.floor(Math.random()*3)];
        heart.style.left = (35 + Math.random() * 30) + "vw";
        heart.style.animationDuration = (2 + Math.random() * 2) + "s";
        heart.style.fontSize = (16 + Math.random()*22) + "px";
        document.body.appendChild(heart);
        setTimeout(()=>heart.remove(), 4500);
      }
    }

    // ‚úÖ Lightbox (4)
    function openLightbox(src){
      document.getElementById("lightboxImg").src = src;
      document.getElementById("lightbox").classList.add("active");
    }
    function closeLightbox(){
      document.getElementById("lightbox").classList.remove("active");
    }

    // ‚úÖ Confetti (8)
    let confettiRunning = false;
    function startConfetti(){
      if(confettiRunning) return;
      confettiRunning = true;

      const colors = ["#ffffff","#ffd6d6","#ff6b6b","#ffdf6b","#7df7ff","#caa6ff"];

      const confettiInterval = setInterval(()=>{
        // stop if not on final page
        if(!document.getElementById("p4").classList.contains("active")){
          clearInterval(confettiInterval);
          confettiRunning = false;
          return;
        }

        const c = document.createElement("div");
        c.className = "confetti";
        c.style.left = Math.random()*100 + "vw";
        c.style.animationDuration = (2.7 + Math.random()*2.6) + "s";
        c.style.background = colors[Math.floor(Math.random()*colors.length)];
        document.body.appendChild(c);
        setTimeout(()=>c.remove(), 6000);
      }, 140);

      // auto stop after 3 seconds (to keep it clean)
      setTimeout(()=>{
        if(document.getElementById("p4").classList.contains("active")){
          clearInterval(confettiInterval);
          confettiRunning = false;
        }
      }, 3000);
    }
  </script>

</body>
</html>
